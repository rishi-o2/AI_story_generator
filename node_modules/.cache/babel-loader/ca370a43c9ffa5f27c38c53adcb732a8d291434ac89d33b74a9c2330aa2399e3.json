{"ast":null,"code":"import _createForOfIteratorHelper from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _objectWithoutProperties from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _toConsumableArray from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _regeneratorRuntime from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _classCallCheck from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _wrapNativeSuper from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _asyncToGenerator from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _asyncIterator from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/asyncIterator.js\";\nimport _awaitAsyncGenerator from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js\";\nimport _wrapAsyncGenerator from \"E:/Chat_bot_intership/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js\";\nvar _excluded = [\"signal\"];\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === 'm') throw new TypeError('Private method is not writable');\n  if (kind === 'a' && !f) throw new TypeError('Private accessor was defined without a setter');\n  if (typeof state === 'function' ? receiver !== state || !f : !state.has(receiver)) throw new TypeError('Cannot write private member to an object whose class did not declare it');\n  return kind === 'a' ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === 'a' && !f) throw new TypeError('Private accessor was defined without a getter');\n  if (typeof state === 'function' ? receiver !== state || !f : !state.has(receiver)) throw new TypeError('Cannot read private member from an object whose class did not declare it');\n  return kind === 'm' ? f : kind === 'a' ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AbstractPage_client;\nimport { VERSION } from './version.mjs';\nimport { Stream } from './streaming.mjs';\nimport { APIError, APIConnectionError, APIConnectionTimeoutError, APIUserAbortError } from './error.mjs';\nimport { getDefaultAgent } from 'openai/_shims/agent';\nimport { fetch, isPolyfilled as fetchIsPolyfilled } from 'openai/_shims/fetch';\nimport { isMultipartBody } from './uploads.mjs';\nexport { maybeMultipartFormRequestOptions, multipartFormRequestOptions, createForm } from './uploads.mjs';\nvar MAX_RETRIES = 2;\nfunction defaultParseResponse(_x) {\n  return _defaultParseResponse.apply(this, arguments);\n}\n/**\n * A subclass of `Promise` providing additional helper methods\n * for interacting with the SDK.\n */\nfunction _defaultParseResponse() {\n  _defaultParseResponse = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(props) {\n    var response, contentType, json, text;\n    return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n      while (1) switch (_context12.prev = _context12.next) {\n        case 0:\n          response = props.response;\n          if (!props.options.stream) {\n            _context12.next = 3;\n            break;\n          }\n          return _context12.abrupt(\"return\", new Stream(response, props.controller));\n        case 3:\n          contentType = response.headers.get('content-type');\n          if (!(contentType === null || contentType === void 0 ? void 0 : contentType.includes('application/json'))) {\n            _context12.next = 10;\n            break;\n          }\n          _context12.next = 7;\n          return response.json();\n        case 7:\n          json = _context12.sent;\n          debug('response', response.status, response.url, response.headers, json);\n          return _context12.abrupt(\"return\", json);\n        case 10:\n          _context12.next = 12;\n          return response.text();\n        case 12:\n          text = _context12.sent;\n          debug('response', response.status, response.url, response.headers, text);\n          return _context12.abrupt(\"return\", text);\n        case 15:\n        case \"end\":\n          return _context12.stop();\n      }\n    }, _callee12);\n  }));\n  return _defaultParseResponse.apply(this, arguments);\n}\nexport var APIPromise = /*#__PURE__*/function (_Promise) {\n  _inherits(APIPromise, _Promise);\n  var _super = _createSuper(APIPromise);\n  function APIPromise(responsePromise) {\n    var _this4;\n    var parseResponse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultParseResponse;\n    _classCallCheck(this, APIPromise);\n    _this4 = _super.call(this, function (resolve) {\n      // this is maybe a bit weird but this has to be a no-op to not implicitly\n      // parse the response body; instead .then, .catch, .finally are overridden\n      // to parse the response\n      resolve(null);\n    });\n    _this4.responsePromise = responsePromise;\n    _this4.parseResponse = parseResponse;\n    return _this4;\n  }\n  _createClass(APIPromise, [{\n    key: \"_thenUnwrap\",\n    value: function _thenUnwrap(transform) {\n      var _this5 = this;\n      return new APIPromise(this.responsePromise, /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(props) {\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.t0 = transform;\n                _context.next = 3;\n                return _this5.parseResponse(props);\n              case 3:\n                _context.t1 = _context.sent;\n                return _context.abrupt(\"return\", (0, _context.t0)(_context.t1));\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        return function (_x2) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n    /**\n     * Gets the raw `Response` instance instead of parsing the response\n     * data.\n     *\n     * If you want to parse the response body but still get the `Response`\n     * instance, you can use {@link withResponse()}.\n     */\n  }, {\n    key: \"asResponse\",\n    value: function asResponse() {\n      return this.responsePromise.then(function (p) {\n        return p.response;\n      });\n    }\n    /**\n     * Gets the parsed response data and the raw `Response` instance.\n     *\n     * If you just want to get the raw `Response` instance without parsing it,\n     * you can use {@link asResponse()}.\n     */\n  }, {\n    key: \"withResponse\",\n    value: function () {\n      var _withResponse = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _yield$Promise$all, _yield$Promise$all2, data, response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return Promise.all([this.parse(), this.asResponse()]);\n            case 2:\n              _yield$Promise$all = _context2.sent;\n              _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n              data = _yield$Promise$all2[0];\n              response = _yield$Promise$all2[1];\n              return _context2.abrupt(\"return\", {\n                data: data,\n                response: response\n              });\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function withResponse() {\n        return _withResponse.apply(this, arguments);\n      }\n      return withResponse;\n    }()\n  }, {\n    key: \"parse\",\n    value: function parse() {\n      if (!this.parsedPromise) {\n        this.parsedPromise = this.responsePromise.then(this.parseResponse);\n      }\n      return this.parsedPromise;\n    }\n  }, {\n    key: \"then\",\n    value: function then(onfulfilled, onrejected) {\n      return this.parse().then(onfulfilled, onrejected);\n    }\n  }, {\n    key: \"catch\",\n    value: function _catch(onrejected) {\n      return this.parse().catch(onrejected);\n    }\n  }, {\n    key: \"finally\",\n    value: function _finally(onfinally) {\n      return this.parse().finally(onfinally);\n    }\n  }]);\n  return APIPromise;\n}( /*#__PURE__*/_wrapNativeSuper(Promise));\nexport var APIClient = /*#__PURE__*/function () {\n  function APIClient(_ref2) {\n    var baseURL = _ref2.baseURL,\n      maxRetries = _ref2.maxRetries,\n      _ref2$timeout = _ref2.timeout,\n      timeout = _ref2$timeout === void 0 ? 600000 : _ref2$timeout,\n      httpAgent = _ref2.httpAgent,\n      overridenFetch = _ref2.fetch;\n    _classCallCheck(this, APIClient);\n    this.baseURL = baseURL;\n    this.maxRetries = validatePositiveInteger('maxRetries', maxRetries !== null && maxRetries !== void 0 ? maxRetries : MAX_RETRIES);\n    this.timeout = validatePositiveInteger('timeout', timeout);\n    this.httpAgent = httpAgent;\n    this.fetch = overridenFetch !== null && overridenFetch !== void 0 ? overridenFetch : fetch;\n  }\n  _createClass(APIClient, [{\n    key: \"authHeaders\",\n    value: function authHeaders(opts) {\n      return {};\n    }\n    /**\n     * Override this to add your own default headers, for example:\n     *\n     *  {\n     *    ...super.defaultHeaders(),\n     *    Authorization: 'Bearer 123',\n     *  }\n     */\n  }, {\n    key: \"defaultHeaders\",\n    value: function defaultHeaders(opts) {\n      return _objectSpread(_objectSpread({\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        'User-Agent': this.getUserAgent()\n      }, getPlatformHeaders()), this.authHeaders(opts));\n    }\n    /**\n     * Override this to add your own headers validation:\n     */\n  }, {\n    key: \"validateHeaders\",\n    value: function validateHeaders(headers, customHeaders) {}\n  }, {\n    key: \"defaultIdempotencyKey\",\n    value: function defaultIdempotencyKey() {\n      return \"stainless-node-retry-\".concat(uuid4());\n    }\n  }, {\n    key: \"get\",\n    value: function get(path, opts) {\n      return this.methodRequest('get', path, opts);\n    }\n  }, {\n    key: \"post\",\n    value: function post(path, opts) {\n      return this.methodRequest('post', path, opts);\n    }\n  }, {\n    key: \"patch\",\n    value: function patch(path, opts) {\n      return this.methodRequest('patch', path, opts);\n    }\n  }, {\n    key: \"put\",\n    value: function put(path, opts) {\n      return this.methodRequest('put', path, opts);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(path, opts) {\n      return this.methodRequest('delete', path, opts);\n    }\n  }, {\n    key: \"methodRequest\",\n    value: function methodRequest(method, path, opts) {\n      return this.request(Promise.resolve(opts).then(function (opts) {\n        return _objectSpread({\n          method: method,\n          path: path\n        }, opts);\n      }));\n    }\n  }, {\n    key: \"getAPIList\",\n    value: function getAPIList(path, Page, opts) {\n      return this.requestAPIList(Page, _objectSpread({\n        method: 'get',\n        path: path\n      }, opts));\n    }\n  }, {\n    key: \"calculateContentLength\",\n    value: function calculateContentLength(body) {\n      if (typeof body === 'string') {\n        if (typeof Buffer !== 'undefined') {\n          return Buffer.byteLength(body, 'utf8').toString();\n        }\n        if (typeof TextEncoder !== 'undefined') {\n          var encoder = new TextEncoder();\n          var encoded = encoder.encode(body);\n          return encoded.length.toString();\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"buildRequest\",\n    value: function buildRequest(options) {\n      var _a, _b, _c, _d, _e, _f;\n      var method = options.method,\n        path = options.path,\n        query = options.query,\n        _options$headers = options.headers,\n        headers = _options$headers === void 0 ? {} : _options$headers;\n      var body = isMultipartBody(options.body) ? options.body.body : options.body ? JSON.stringify(options.body, null, 2) : null;\n      var contentLength = this.calculateContentLength(body);\n      var url = this.buildURL(path, query);\n      if ('timeout' in options) validatePositiveInteger('timeout', options.timeout);\n      var timeout = (_a = options.timeout) !== null && _a !== void 0 ? _a : this.timeout;\n      var httpAgent = (_c = (_b = options.httpAgent) !== null && _b !== void 0 ? _b : this.httpAgent) !== null && _c !== void 0 ? _c : getDefaultAgent(url);\n      var minAgentTimeout = timeout + 1000;\n      if (typeof ((_d = httpAgent === null || httpAgent === void 0 ? void 0 : httpAgent.options) === null || _d === void 0 ? void 0 : _d.timeout) === 'number' && minAgentTimeout > ((_e = httpAgent.options.timeout) !== null && _e !== void 0 ? _e : 0)) {\n        // Allow any given request to bump our agent active socket timeout.\n        // This may seem strange, but leaking active sockets should be rare and not particularly problematic,\n        // and without mutating agent we would need to create more of them.\n        // This tradeoff optimizes for performance.\n        httpAgent.options.timeout = minAgentTimeout;\n      }\n      if (this.idempotencyHeader && method !== 'get') {\n        if (!options.idempotencyKey) options.idempotencyKey = this.defaultIdempotencyKey();\n        headers[this.idempotencyHeader] = options.idempotencyKey;\n      }\n      var reqHeaders = _objectSpread(_objectSpread(_objectSpread({}, contentLength && {\n        'Content-Length': contentLength\n      }), this.defaultHeaders(options)), headers);\n      // let builtin fetch set the Content-Type for multipart bodies\n      if (isMultipartBody(options.body) && !fetchIsPolyfilled) {\n        delete reqHeaders['Content-Type'];\n      }\n      // Strip any headers being explicitly omitted with null\n      Object.keys(reqHeaders).forEach(function (key) {\n        return reqHeaders[key] === null && delete reqHeaders[key];\n      });\n      var req = _objectSpread(_objectSpread(_objectSpread({\n        method: method\n      }, body && {\n        body: body\n      }), {}, {\n        headers: reqHeaders\n      }, httpAgent && {\n        agent: httpAgent\n      }), {}, {\n        // @ts-ignore node-fetch uses a custom AbortSignal type that is\n        // not compatible with standard web types\n        signal: (_f = options.signal) !== null && _f !== void 0 ? _f : null\n      });\n      this.validateHeaders(reqHeaders, headers);\n      return {\n        req: req,\n        url: url,\n        timeout: timeout\n      };\n    }\n    /**\n     * Used as a callback for mutating the given `RequestInit` object.\n     *\n     * This is useful for cases where you want to add certain headers based off of\n     * the request properties, e.g. `method` or `url`.\n     */\n  }, {\n    key: \"prepareRequest\",\n    value: function () {\n      var _prepareRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(request, _ref3) {\n        var url, options;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              url = _ref3.url, options = _ref3.options;\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }));\n      function prepareRequest(_x3, _x4) {\n        return _prepareRequest.apply(this, arguments);\n      }\n      return prepareRequest;\n    }()\n  }, {\n    key: \"parseHeaders\",\n    value: function parseHeaders(headers) {\n      return !headers ? {} : Symbol.iterator in headers ? Object.fromEntries(Array.from(headers).map(function (header) {\n        return _toConsumableArray(header);\n      })) : _objectSpread({}, headers);\n    }\n  }, {\n    key: \"makeStatusError\",\n    value: function makeStatusError(status, error, message, headers) {\n      return APIError.generate(status, error, message, headers);\n    }\n  }, {\n    key: \"request\",\n    value: function request(options) {\n      var remainingRetries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      return new APIPromise(this.makeRequest(options, remainingRetries));\n    }\n  }, {\n    key: \"makeRequest\",\n    value: function () {\n      var _makeRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(optionsInput, retriesRemaining) {\n        var _a, _b, _c, options, _this$buildRequest, req, url, timeout, controller, response, responseHeaders, errText, errJSON, errMessage, err;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return optionsInput;\n            case 2:\n              options = _context4.sent;\n              if (retriesRemaining == null) {\n                retriesRemaining = (_a = options.maxRetries) !== null && _a !== void 0 ? _a : this.maxRetries;\n              }\n              _this$buildRequest = this.buildRequest(options), req = _this$buildRequest.req, url = _this$buildRequest.url, timeout = _this$buildRequest.timeout;\n              _context4.next = 7;\n              return this.prepareRequest(req, {\n                url: url,\n                options: options\n              });\n            case 7:\n              debug('request', url, options, req.headers);\n              if (!((_b = options.signal) === null || _b === void 0 ? void 0 : _b.aborted)) {\n                _context4.next = 10;\n                break;\n              }\n              throw new APIUserAbortError();\n            case 10:\n              controller = new AbortController();\n              _context4.next = 13;\n              return this.fetchWithTimeout(url, req, timeout, controller).catch(castToError);\n            case 13:\n              response = _context4.sent;\n              if (!(response instanceof Error)) {\n                _context4.next = 22;\n                break;\n              }\n              if (!((_c = options.signal) === null || _c === void 0 ? void 0 : _c.aborted)) {\n                _context4.next = 17;\n                break;\n              }\n              throw new APIUserAbortError();\n            case 17:\n              if (!retriesRemaining) {\n                _context4.next = 19;\n                break;\n              }\n              return _context4.abrupt(\"return\", this.retryRequest(options, retriesRemaining));\n            case 19:\n              if (!(response.name === 'AbortError')) {\n                _context4.next = 21;\n                break;\n              }\n              throw new APIConnectionTimeoutError();\n            case 21:\n              throw new APIConnectionError({\n                cause: response\n              });\n            case 22:\n              responseHeaders = createResponseHeaders(response.headers);\n              if (response.ok) {\n                _context4.next = 34;\n                break;\n              }\n              if (!(retriesRemaining && this.shouldRetry(response))) {\n                _context4.next = 26;\n                break;\n              }\n              return _context4.abrupt(\"return\", this.retryRequest(options, retriesRemaining, responseHeaders));\n            case 26:\n              _context4.next = 28;\n              return response.text().catch(function () {\n                return 'Unknown';\n              });\n            case 28:\n              errText = _context4.sent;\n              errJSON = safeJSON(errText);\n              errMessage = errJSON ? undefined : errText;\n              debug('response', response.status, url, responseHeaders, errMessage);\n              err = this.makeStatusError(response.status, errJSON, errMessage, responseHeaders);\n              throw err;\n            case 34:\n              return _context4.abrupt(\"return\", {\n                response: response,\n                options: options,\n                controller: controller\n              });\n            case 35:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n      function makeRequest(_x5, _x6) {\n        return _makeRequest.apply(this, arguments);\n      }\n      return makeRequest;\n    }()\n  }, {\n    key: \"requestAPIList\",\n    value: function requestAPIList(Page, options) {\n      var request = this.makeRequest(options, null);\n      return new PagePromise(this, request, Page);\n    }\n  }, {\n    key: \"buildURL\",\n    value: function buildURL(path, query) {\n      var url = isAbsoluteURL(path) ? new URL(path) : new URL(this.baseURL + (this.baseURL.endsWith('/') && path.startsWith('/') ? path.slice(1) : path));\n      var defaultQuery = this.defaultQuery();\n      if (!isEmptyObj(defaultQuery)) {\n        query = _objectSpread(_objectSpread({}, defaultQuery), query);\n      }\n      if (query) {\n        url.search = this.stringifyQuery(query);\n      }\n      return url.toString();\n    }\n  }, {\n    key: \"stringifyQuery\",\n    value: function stringifyQuery(query) {\n      return Object.entries(query).filter(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n          _ = _ref5[0],\n          value = _ref5[1];\n        return typeof value !== 'undefined';\n      }).map(function (_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 2),\n          key = _ref7[0],\n          value = _ref7[1];\n        if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n          return \"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(value));\n        }\n        if (value === null) {\n          return \"\".concat(encodeURIComponent(key), \"=\");\n        }\n        throw new Error(\"Cannot stringify type \".concat(typeof value, \"; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.\"));\n      }).join('&');\n    }\n  }, {\n    key: \"fetchWithTimeout\",\n    value: function () {\n      var _fetchWithTimeout = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(url, init, ms, controller) {\n        var _ref8, signal, options, timeout;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _ref8 = init || {}, signal = _ref8.signal, options = _objectWithoutProperties(_ref8, _excluded);\n              if (signal) signal.addEventListener('abort', function () {\n                return controller.abort();\n              });\n              timeout = setTimeout(function () {\n                return controller.abort();\n              }, ms);\n              return _context5.abrupt(\"return\", this.getRequestClient().fetch(url, _objectSpread({\n                signal: controller.signal\n              }, options)).finally(function () {\n                clearTimeout(timeout);\n              }));\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function fetchWithTimeout(_x7, _x8, _x9, _x10) {\n        return _fetchWithTimeout.apply(this, arguments);\n      }\n      return fetchWithTimeout;\n    }()\n  }, {\n    key: \"getRequestClient\",\n    value: function getRequestClient() {\n      return {\n        fetch: this.fetch\n      };\n    }\n  }, {\n    key: \"shouldRetry\",\n    value: function shouldRetry(response) {\n      // Note this is not a standard header.\n      var shouldRetryHeader = response.headers.get('x-should-retry');\n      // If the server explicitly says whether or not to retry, obey.\n      if (shouldRetryHeader === 'true') return true;\n      if (shouldRetryHeader === 'false') return false;\n      // Retry on request timeouts.\n      if (response.status === 408) return true;\n      // Retry on lock timeouts.\n      if (response.status === 409) return true;\n      // Retry on rate limits.\n      if (response.status === 429) return true;\n      // Retry internal errors.\n      if (response.status >= 500) return true;\n      return false;\n    }\n  }, {\n    key: \"retryRequest\",\n    value: function () {\n      var _retryRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(options, retriesRemaining, responseHeaders) {\n        var _a, retryAfter, maxRetries, timeout;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              retriesRemaining -= 1;\n              // About the Retry-After header: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After\n              //\n              // TODO: we may want to handle the case where the header is using the http-date syntax: \"Retry-After: <http-date>\".\n              // See https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After#syntax for details.\n              retryAfter = parseInt((responseHeaders === null || responseHeaders === void 0 ? void 0 : responseHeaders['retry-after']) || '');\n              maxRetries = (_a = options.maxRetries) !== null && _a !== void 0 ? _a : this.maxRetries;\n              timeout = this.calculateRetryTimeoutSeconds(retriesRemaining, retryAfter, maxRetries) * 1000;\n              _context6.next = 6;\n              return sleep(timeout);\n            case 6:\n              return _context6.abrupt(\"return\", this.makeRequest(options, retriesRemaining));\n            case 7:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function retryRequest(_x11, _x12, _x13) {\n        return _retryRequest.apply(this, arguments);\n      }\n      return retryRequest;\n    }()\n  }, {\n    key: \"calculateRetryTimeoutSeconds\",\n    value: function calculateRetryTimeoutSeconds(retriesRemaining, retryAfter, maxRetries) {\n      var initialRetryDelay = 0.5;\n      var maxRetryDelay = 2;\n      // If the API asks us to wait a certain amount of time (and it's a reasonable amount),\n      // just do what it says.\n      if (Number.isInteger(retryAfter) && retryAfter <= 60) {\n        return retryAfter;\n      }\n      var numRetries = maxRetries - retriesRemaining;\n      // Apply exponential backoff, but not more than the max.\n      var sleepSeconds = Math.min(initialRetryDelay * Math.pow(numRetries - 1, 2), maxRetryDelay);\n      // Apply some jitter, plus-or-minus half a second.\n      var jitter = Math.random() - 0.5;\n      return sleepSeconds + jitter;\n    }\n  }, {\n    key: \"getUserAgent\",\n    value: function getUserAgent() {\n      return \"\".concat(this.constructor.name, \"/JS \").concat(VERSION);\n    }\n  }]);\n  return APIClient;\n}();\nexport var APIResource = /*#__PURE__*/_createClass(function APIResource(client) {\n  _classCallCheck(this, APIResource);\n  this.client = client;\n  this.get = client.get.bind(client);\n  this.post = client.post.bind(client);\n  this.patch = client.patch.bind(client);\n  this.put = client.put.bind(client);\n  this.delete = client.delete.bind(client);\n  this.getAPIList = client.getAPIList.bind(client);\n});\nexport var AbstractPage = /*#__PURE__*/function (_ref9) {\n  function AbstractPage(client, response, body, options) {\n    _classCallCheck(this, AbstractPage);\n    _AbstractPage_client.set(this, void 0);\n    __classPrivateFieldSet(this, _AbstractPage_client, client, 'f');\n    this.options = options;\n    this.response = response;\n    this.body = body;\n  }\n  _createClass(AbstractPage, [{\n    key: \"hasNextPage\",\n    value: function hasNextPage() {\n      var items = this.getPaginatedItems();\n      if (!items.length) return false;\n      return this.nextPageInfo() != null;\n    }\n  }, {\n    key: \"getNextPage\",\n    value: function () {\n      var _getNextPage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        var nextInfo, nextOptions, params, _iterator3, _step3, _step3$value, key, value;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              nextInfo = this.nextPageInfo();\n              if (nextInfo) {\n                _context7.next = 3;\n                break;\n              }\n              throw new Error('No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.');\n            case 3:\n              nextOptions = _objectSpread({}, this.options);\n              if ('params' in nextInfo) {\n                nextOptions.query = _objectSpread(_objectSpread({}, nextOptions.query), nextInfo.params);\n              } else if ('url' in nextInfo) {\n                params = [].concat(_toConsumableArray(Object.entries(nextOptions.query || {})), _toConsumableArray(nextInfo.url.searchParams.entries()));\n                _iterator3 = _createForOfIteratorHelper(params);\n                try {\n                  for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                    _step3$value = _slicedToArray(_step3.value, 2), key = _step3$value[0], value = _step3$value[1];\n                    nextInfo.url.searchParams.set(key, value);\n                  }\n                } catch (err) {\n                  _iterator3.e(err);\n                } finally {\n                  _iterator3.f();\n                }\n                nextOptions.query = undefined;\n                nextOptions.path = nextInfo.url.toString();\n              }\n              _context7.next = 7;\n              return __classPrivateFieldGet(this, _AbstractPage_client, 'f').requestAPIList(this.constructor, nextOptions);\n            case 7:\n              return _context7.abrupt(\"return\", _context7.sent);\n            case 8:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7, this);\n      }));\n      function getNextPage() {\n        return _getNextPage.apply(this, arguments);\n      }\n      return getNextPage;\n    }()\n  }, {\n    key: \"iterPages\",\n    value: function iterPages() {\n      var _this = this;\n      return _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        var page;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              // eslint-disable-next-line @typescript-eslint/no-this-alias\n              page = _this;\n              _context8.next = 3;\n              return page;\n            case 3:\n              if (!page.hasNextPage()) {\n                _context8.next = 11;\n                break;\n              }\n              _context8.next = 6;\n              return _awaitAsyncGenerator(page.getNextPage());\n            case 6:\n              page = _context8.sent;\n              _context8.next = 9;\n              return page;\n            case 9:\n              _context8.next = 3;\n              break;\n            case 11:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee8);\n      }))();\n    }\n  }, {\n    key: _ref9,\n    value: function value() {\n      var _this2 = this;\n      return _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n        var _iteratorAbruptCompletion, _didIteratorError, _iteratorError, _iterator, _step, page, _iterator4, _step4, item;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              _iteratorAbruptCompletion = false;\n              _didIteratorError = false;\n              _context9.prev = 2;\n              _iterator = _asyncIterator(_this2.iterPages());\n            case 4:\n              _context9.next = 6;\n              return _awaitAsyncGenerator(_iterator.next());\n            case 6:\n              if (!(_iteratorAbruptCompletion = !(_step = _context9.sent).done)) {\n                _context9.next = 28;\n                break;\n              }\n              page = _step.value;\n              _iterator4 = _createForOfIteratorHelper(page.getPaginatedItems());\n              _context9.prev = 9;\n              _iterator4.s();\n            case 11:\n              if ((_step4 = _iterator4.n()).done) {\n                _context9.next = 17;\n                break;\n              }\n              item = _step4.value;\n              _context9.next = 15;\n              return item;\n            case 15:\n              _context9.next = 11;\n              break;\n            case 17:\n              _context9.next = 22;\n              break;\n            case 19:\n              _context9.prev = 19;\n              _context9.t0 = _context9[\"catch\"](9);\n              _iterator4.e(_context9.t0);\n            case 22:\n              _context9.prev = 22;\n              _iterator4.f();\n              return _context9.finish(22);\n            case 25:\n              _iteratorAbruptCompletion = false;\n              _context9.next = 4;\n              break;\n            case 28:\n              _context9.next = 34;\n              break;\n            case 30:\n              _context9.prev = 30;\n              _context9.t1 = _context9[\"catch\"](2);\n              _didIteratorError = true;\n              _iteratorError = _context9.t1;\n            case 34:\n              _context9.prev = 34;\n              _context9.prev = 35;\n              if (!(_iteratorAbruptCompletion && _iterator.return != null)) {\n                _context9.next = 39;\n                break;\n              }\n              _context9.next = 39;\n              return _awaitAsyncGenerator(_iterator.return());\n            case 39:\n              _context9.prev = 39;\n              if (!_didIteratorError) {\n                _context9.next = 42;\n                break;\n              }\n              throw _iteratorError;\n            case 42:\n              return _context9.finish(39);\n            case 43:\n              return _context9.finish(34);\n            case 44:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9, null, [[2, 30, 34, 44], [9, 19, 22, 25], [35,, 39, 43]]);\n      }))();\n    }\n  }]);\n  return AbstractPage;\n}((_AbstractPage_client = new WeakMap(), Symbol.asyncIterator));\n/**\n * This subclass of Promise will resolve to an instantiated Page once the request completes.\n *\n * It also implements AsyncIterable to allow auto-paginating iteration on an unawaited list call, eg:\n *\n *    for await (const item of client.items.list()) {\n *      console.log(item)\n *    }\n */\nexport var PagePromise = /*#__PURE__*/function (_APIPromise, _Symbol$asyncIterator) {\n  _inherits(PagePromise, _APIPromise);\n  var _super2 = _createSuper(PagePromise);\n  function PagePromise(client, request, Page) {\n    _classCallCheck(this, PagePromise);\n    return _super2.call(this, request, /*#__PURE__*/function () {\n      var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(props) {\n        return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1) switch (_context10.prev = _context10.next) {\n            case 0:\n              _context10.t0 = Page;\n              _context10.t1 = client;\n              _context10.t2 = props.response;\n              _context10.next = 5;\n              return defaultParseResponse(props);\n            case 5:\n              _context10.t3 = _context10.sent;\n              _context10.t4 = props.options;\n              return _context10.abrupt(\"return\", new _context10.t0(_context10.t1, _context10.t2, _context10.t3, _context10.t4));\n            case 8:\n            case \"end\":\n              return _context10.stop();\n          }\n        }, _callee10);\n      }));\n      return function (_x14) {\n        return _ref10.apply(this, arguments);\n      };\n    }());\n  }\n  /**\n   * Allow auto-paginating iteration on an unawaited list call, eg:\n   *\n   *    for await (const item of client.items.list()) {\n   *      console.log(item)\n   *    }\n   */\n  _createClass(PagePromise, [{\n    key: _Symbol$asyncIterator,\n    value: function value() {\n      var _this3 = this;\n      return _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11() {\n        var page, _iteratorAbruptCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, item;\n        return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1) switch (_context11.prev = _context11.next) {\n            case 0:\n              _context11.next = 2;\n              return _awaitAsyncGenerator(_this3);\n            case 2:\n              page = _context11.sent;\n              _iteratorAbruptCompletion2 = false;\n              _didIteratorError2 = false;\n              _context11.prev = 5;\n              _iterator2 = _asyncIterator(page);\n            case 7:\n              _context11.next = 9;\n              return _awaitAsyncGenerator(_iterator2.next());\n            case 9:\n              if (!(_iteratorAbruptCompletion2 = !(_step2 = _context11.sent).done)) {\n                _context11.next = 16;\n                break;\n              }\n              item = _step2.value;\n              _context11.next = 13;\n              return item;\n            case 13:\n              _iteratorAbruptCompletion2 = false;\n              _context11.next = 7;\n              break;\n            case 16:\n              _context11.next = 22;\n              break;\n            case 18:\n              _context11.prev = 18;\n              _context11.t0 = _context11[\"catch\"](5);\n              _didIteratorError2 = true;\n              _iteratorError2 = _context11.t0;\n            case 22:\n              _context11.prev = 22;\n              _context11.prev = 23;\n              if (!(_iteratorAbruptCompletion2 && _iterator2.return != null)) {\n                _context11.next = 27;\n                break;\n              }\n              _context11.next = 27;\n              return _awaitAsyncGenerator(_iterator2.return());\n            case 27:\n              _context11.prev = 27;\n              if (!_didIteratorError2) {\n                _context11.next = 30;\n                break;\n              }\n              throw _iteratorError2;\n            case 30:\n              return _context11.finish(27);\n            case 31:\n              return _context11.finish(22);\n            case 32:\n            case \"end\":\n              return _context11.stop();\n          }\n        }, _callee11, null, [[5, 18, 22, 32], [23,, 27, 31]]);\n      }))();\n    }\n  }]);\n  return PagePromise;\n}(APIPromise, Symbol.asyncIterator);\nexport var createResponseHeaders = function createResponseHeaders(headers) {\n  return new Proxy(Object.fromEntries(\n  // @ts-ignore\n  headers.entries()), {\n    get: function get(target, name) {\n      var key = name.toString();\n      return target[key.toLowerCase()] || target[key];\n    }\n  });\n};\n// This is required so that we can determine if a given object matches the RequestOptions\n// type at runtime. While this requires duplication, it is enforced by the TypeScript\n// compiler such that any missing / extraneous keys will cause an error.\nvar requestOptionsKeys = {\n  method: true,\n  path: true,\n  query: true,\n  body: true,\n  headers: true,\n  maxRetries: true,\n  stream: true,\n  timeout: true,\n  httpAgent: true,\n  signal: true,\n  idempotencyKey: true\n};\nexport var isRequestOptions = function isRequestOptions(obj) {\n  return typeof obj === 'object' && obj !== null && !isEmptyObj(obj) && Object.keys(obj).every(function (k) {\n    return hasOwn(requestOptionsKeys, k);\n  });\n};\nvar getPlatformProperties = function getPlatformProperties() {\n  if (typeof Deno !== 'undefined' && Deno.build != null) {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': VERSION,\n      'X-Stainless-OS': normalizePlatform(Deno.build.os),\n      'X-Stainless-Arch': normalizeArch(Deno.build.arch),\n      'X-Stainless-Runtime': 'deno',\n      'X-Stainless-Runtime-Version': Deno.version\n    };\n  }\n  if (typeof EdgeRuntime !== 'undefined') {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': VERSION,\n      'X-Stainless-OS': 'Unknown',\n      'X-Stainless-Arch': \"other:\".concat(EdgeRuntime),\n      'X-Stainless-Runtime': 'edge',\n      'X-Stainless-Runtime-Version': process.version\n    };\n  }\n  // Check if Node.js\n  if (Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]') {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': VERSION,\n      'X-Stainless-OS': normalizePlatform(process.platform),\n      'X-Stainless-Arch': normalizeArch(process.arch),\n      'X-Stainless-Runtime': 'node',\n      'X-Stainless-Runtime-Version': process.version\n    };\n  }\n  var browserInfo = getBrowserInfo();\n  if (browserInfo) {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': VERSION,\n      'X-Stainless-OS': 'Unknown',\n      'X-Stainless-Arch': 'unknown',\n      'X-Stainless-Runtime': \"browser:\".concat(browserInfo.browser),\n      'X-Stainless-Runtime-Version': browserInfo.version\n    };\n  }\n  // TODO add support for Cloudflare workers, etc.\n  return {\n    'X-Stainless-Lang': 'js',\n    'X-Stainless-Package-Version': VERSION,\n    'X-Stainless-OS': 'Unknown',\n    'X-Stainless-Arch': 'unknown',\n    'X-Stainless-Runtime': 'unknown',\n    'X-Stainless-Runtime-Version': 'unknown'\n  };\n};\n// Note: modified from https://github.com/JS-DevTools/host-environment/blob/b1ab79ecde37db5d6e163c050e54fe7d287d7c92/src/isomorphic.browser.ts\nfunction getBrowserInfo() {\n  if (typeof navigator === 'undefined' || !navigator) {\n    return null;\n  }\n  // NOTE: The order matters here!\n  var browserPatterns = [{\n    key: 'edge',\n    pattern: /Edge(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n  }, {\n    key: 'ie',\n    pattern: /MSIE(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n  }, {\n    key: 'ie',\n    pattern: /Trident(?:.*rv\\:(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n  }, {\n    key: 'chrome',\n    pattern: /Chrome(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n  }, {\n    key: 'firefox',\n    pattern: /Firefox(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n  }, {\n    key: 'safari',\n    pattern: /(?:Version\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?(?:\\W+Mobile\\S*)?\\W+Safari/\n  }];\n  // Find the FIRST matching browser\n  for (var _i = 0, _browserPatterns = browserPatterns; _i < _browserPatterns.length; _i++) {\n    var _browserPatterns$_i = _browserPatterns[_i],\n      key = _browserPatterns$_i.key,\n      pattern = _browserPatterns$_i.pattern;\n    var match = pattern.exec(navigator.userAgent);\n    if (match) {\n      var major = match[1] || 0;\n      var minor = match[2] || 0;\n      var patch = match[3] || 0;\n      return {\n        browser: key,\n        version: \"\".concat(major, \".\").concat(minor, \".\").concat(patch)\n      };\n    }\n  }\n  return null;\n}\nvar normalizeArch = function normalizeArch(arch) {\n  // Node docs:\n  // - https://nodejs.org/api/process.html#processarch\n  // Deno docs:\n  // - https://doc.deno.land/deno/stable/~/Deno.build\n  if (arch === 'x32') return 'x32';\n  if (arch === 'x86_64' || arch === 'x64') return 'x64';\n  if (arch === 'arm') return 'arm';\n  if (arch === 'aarch64' || arch === 'arm64') return 'arm64';\n  if (arch) return \"other:\".concat(arch);\n  return 'unknown';\n};\nvar normalizePlatform = function normalizePlatform(platform) {\n  // Node platforms:\n  // - https://nodejs.org/api/process.html#processplatform\n  // Deno platforms:\n  // - https://doc.deno.land/deno/stable/~/Deno.build\n  // - https://github.com/denoland/deno/issues/14799\n  platform = platform.toLowerCase();\n  // NOTE: this iOS check is untested and may not work\n  // Node does not work natively on IOS, there is a fork at\n  // https://github.com/nodejs-mobile/nodejs-mobile\n  // however it is unknown at the time of writing how to detect if it is running\n  if (platform.includes('ios')) return 'iOS';\n  if (platform === 'android') return 'Android';\n  if (platform === 'darwin') return 'MacOS';\n  if (platform === 'win32') return 'Windows';\n  if (platform === 'freebsd') return 'FreeBSD';\n  if (platform === 'openbsd') return 'OpenBSD';\n  if (platform === 'linux') return 'Linux';\n  if (platform) return \"Other:\".concat(platform);\n  return 'Unknown';\n};\nvar _platformHeaders;\nvar getPlatformHeaders = function getPlatformHeaders() {\n  return _platformHeaders !== null && _platformHeaders !== void 0 ? _platformHeaders : _platformHeaders = getPlatformProperties();\n};\nexport var safeJSON = function safeJSON(text) {\n  try {\n    return JSON.parse(text);\n  } catch (err) {\n    return undefined;\n  }\n};\n// https://stackoverflow.com/a/19709846\nvar startsWithSchemeRegexp = new RegExp('^(?:[a-z]+:)?//', 'i');\nvar isAbsoluteURL = function isAbsoluteURL(url) {\n  return startsWithSchemeRegexp.test(url);\n};\nexport var sleep = function sleep(ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n};\nvar validatePositiveInteger = function validatePositiveInteger(name, n) {\n  if (typeof n !== 'number' || !Number.isInteger(n)) {\n    throw new Error(\"\".concat(name, \" must be an integer\"));\n  }\n  if (n < 0) {\n    throw new Error(\"\".concat(name, \" must be a positive integer\"));\n  }\n  return n;\n};\nexport var castToError = function castToError(err) {\n  if (err instanceof Error) return err;\n  return new Error(err);\n};\nexport var ensurePresent = function ensurePresent(value) {\n  if (value == null) throw new Error(\"Expected a value to be given but received \".concat(value, \" instead.\"));\n  return value;\n};\n/**\n * Read an environment variable.\n *\n * Will return undefined if the environment variable doesn't exist or cannot be accessed.\n */\nexport var readEnv = function readEnv(env) {\n  var _a, _b, _c, _d;\n  if (typeof process !== 'undefined') {\n    return (_b = (_a = process.env) === null || _a === void 0 ? void 0 : _a[env]) !== null && _b !== void 0 ? _b : undefined;\n  }\n  if (typeof Deno !== 'undefined') {\n    return (_d = (_c = Deno.env) === null || _c === void 0 ? void 0 : _c.get) === null || _d === void 0 ? void 0 : _d.call(_c, env);\n  }\n  return undefined;\n};\nexport var coerceInteger = function coerceInteger(value) {\n  if (typeof value === 'number') return Math.round(value);\n  if (typeof value === 'string') return parseInt(value, 10);\n  throw new Error(\"Could not coerce \".concat(value, \" (type: \").concat(typeof value, \") into a number\"));\n};\nexport var coerceFloat = function coerceFloat(value) {\n  if (typeof value === 'number') return value;\n  if (typeof value === 'string') return parseFloat(value);\n  throw new Error(\"Could not coerce \".concat(value, \" (type: \").concat(typeof value, \") into a number\"));\n};\nexport var coerceBoolean = function coerceBoolean(value) {\n  if (typeof value === 'boolean') return value;\n  if (typeof value === 'string') return value === 'true';\n  return Boolean(value);\n};\nexport var maybeCoerceInteger = function maybeCoerceInteger(value) {\n  if (value === undefined) {\n    return undefined;\n  }\n  return coerceInteger(value);\n};\nexport var maybeCoerceFloat = function maybeCoerceFloat(value) {\n  if (value === undefined) {\n    return undefined;\n  }\n  return coerceFloat(value);\n};\nexport var maybeCoerceBoolean = function maybeCoerceBoolean(value) {\n  if (value === undefined) {\n    return undefined;\n  }\n  return coerceBoolean(value);\n};\n// https://stackoverflow.com/a/34491287\nexport function isEmptyObj(obj) {\n  if (!obj) return true;\n  for (var _k in obj) return false;\n  return true;\n}\n// https://eslint.org/docs/latest/rules/no-prototype-builtins\nexport function hasOwn(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\nexport function debug(action) {\n  if (typeof process !== 'undefined' && process.env['DEBUG'] === 'true') {\n    var _console;\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    (_console = console).log.apply(_console, [\"OpenAI:DEBUG:\".concat(action)].concat(args));\n  }\n}\n/**\n * https://stackoverflow.com/a/2117523\n */\nvar uuid4 = function uuid4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n};\nexport var isRunningInBrowser = function isRunningInBrowser() {\n  return (\n    // @ts-ignore\n    typeof window !== 'undefined' &&\n    // @ts-ignore\n    typeof window.document !== 'undefined' &&\n    // @ts-ignore\n    typeof navigator !== 'undefined'\n  );\n};\nexport var isHeadersProtocol = function isHeadersProtocol(headers) {\n  return typeof (headers === null || headers === void 0 ? void 0 : headers.get) === 'function';\n};\nexport var getHeader = function getHeader(headers, key) {\n  var lowerKey = key.toLowerCase();\n  if (isHeadersProtocol(headers)) return headers.get(key) || headers.get(lowerKey);\n  var value = headers[key] || headers[lowerKey];\n  if (Array.isArray(value)) {\n    if (value.length <= 1) return value[0];\n    console.warn(\"Received \".concat(value.length, \" entries for the \").concat(key, \" header, using the first entry.\"));\n    return value[0];\n  }\n  return value;\n};\n/**\n * Encodes a string to Base64 format.\n */\nexport var toBase64 = function toBase64(str) {\n  if (!str) return '';\n  if (typeof Buffer !== 'undefined') {\n    return Buffer.from(str).toString('base64');\n  }\n  if (typeof btoa !== 'undefined') {\n    return btoa(str);\n  }\n  throw new Error('Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined');\n};","map":{"version":3,"names":["__classPrivateFieldGet","receiver","state","kind","f","TypeError","has","call","value","get","_AbstractPage_client","VERSION","Stream","APIError","APIConnectionError","APIConnectionTimeoutError","APIUserAbortError","getDefaultAgent","fetch","isPolyfilled","fetchIsPolyfilled","isMultipartBody","maybeMultipartFormRequestOptions","multipartFormRequestOptions","createForm","MAX_RETRIES","defaultParseResponse","_x","_defaultParseResponse","apply","arguments","props","response","contentType","json","text","_regeneratorRuntime","wrap","_callee12$","_context12","prev","next","options","stream","abrupt","controller","headers","includes","sent","status","url","stop","_callee12","_this4","responsePromise","then","p","Promise","all","parse","asResponse","_yield$Promise$all","_context2","_yield$Promise$all2","_slicedToArray","data","_callee2","withResponse","_withResponse","key","parsedPromise","parseResponse","onrejected","onfulfilled","catch","onfinally","_ref2","_ref2$timeout","timeout","baseURL","validatePositiveInteger","maxRetries","overridenFetch","opts","_objectSpread","getUserAgent","getPlatformHeaders","authHeaders","customHeaders","uuid4","methodRequest","path","method","request","resolve","Page","requestAPIList","body","Buffer","byteLength","toString","TextEncoder","encoder","encoded","encode","length","_b","_c","_d","_e","_f","query","_options$headers","JSON","stringify","contentLength","calculateContentLength","buildURL","_a","httpAgent","minAgentTimeout","idempotencyHeader","idempotencyKey","defaultIdempotencyKey","reqHeaders","defaultHeaders","forEach","req","agent","signal","validateHeaders","_ref3","_callee3$","_context3","_callee3","prepareRequest","_x3","_x4","_prepareRequest","Symbol","iterator","Object","fromEntries","Array","from","map","header","_toConsumableArray","error","message","generate","remainingRetries","undefined","APIPromise","makeRequest","optionsInput","retriesRemaining","_this$buildRequest","responseHeaders","errText","errJSON","errMessage","err","_callee4$","_context4","buildRequest","aborted","AbortController","fetchWithTimeout","castToError","Error","retryRequest","name","cause","createResponseHeaders","ok","shouldRetry","safeJSON","debug","makeStatusError","_callee4","PagePromise","URL","endsWith","startsWith","slice","defaultQuery","isEmptyObj","search","stringifyQuery","entries","_ref4","_ref5","_","_ref7","_ref6","concat","encodeURIComponent","init","ms","_ref8","_callee5$","_context5","_objectWithoutProperties","_excluded","addEventListener","abort","setTimeout","getRequestClient","clearTimeout","_callee5","shouldRetryHeader","_retryRequest","_asyncToGenerator","mark","retryAfter","_callee6$","_context6","parseInt","calculateRetryTimeoutSeconds","sleep","_callee6","initialRetryDelay","maxRetryDelay","isInteger","numRetries","sleepSeconds","Math","min","pow","jitter","random","constructor","APIResource","_createClass","_classCallCheck","client","bind","post","patch","put","delete","getAPIList","AbstractPage","_ref9","set","getPaginatedItems","nextPageInfo","_callee7","nextInfo","nextOptions","params","_iterator3","_step3","_step3$value","_callee7$","_context7","searchParams","_createForOfIteratorHelper","e","_this","_wrapAsyncGenerator","_callee8","page","_callee8$","_context8","hasNextPage","_awaitAsyncGenerator","getNextPage","_this2","_callee9","_iteratorAbruptCompletion","_didIteratorError","_iteratorError","_iterator","_step","_iterator4","_step4","item","_callee9$","_context9","_asyncIterator","iterPages","done","s","n","t0","finish","t1","return","WeakMap","asyncIterator","_APIPromise","_Symbol$asyncIterator","_inherits","_super2","_createSuper","_ref10","_callee10","_callee10$","_context10","t2","t3","t4","_x14","_this3","_callee11","_iteratorAbruptCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_callee11$","_context11","Proxy","target","toLowerCase","isRequestOptions","obj","keys","every","k","hasOwn","requestOptionsKeys","getPlatformProperties","Deno","build","normalizePlatform","os","normalizeArch","arch","version","EdgeRuntime","process","prototype","platform","browserInfo","getBrowserInfo","browser","navigator","browserPatterns","pattern","_i","_browserPatterns","_browserPatterns$_i","match","exec","userAgent","major","minor","_platformHeaders","startsWithSchemeRegexp","RegExp","isAbsoluteURL","test","Number","ensurePresent","readEnv","env","coerceInteger","round","coerceFloat","parseFloat","coerceBoolean","Boolean","maybeCoerceInteger","maybeCoerceFloat","maybeCoerceBoolean","_k","hasOwnProperty","action","_console","_len","args","_key","console","log","replace","c","r","v","isRunningInBrowser","window","document"],"sources":["E:\\Chat_bot_intership\\node_modules\\openai\\src\\core.ts"],"sourcesContent":["import { VERSION } from './version.js';\nimport { Stream } from './streaming.js';\nimport { APIError, APIConnectionError, APIConnectionTimeoutError, APIUserAbortError } from './error.js';\nimport type { Readable } from './_shims/node-readable.js';\nimport { getDefaultAgent, type Agent } from './_shims/agent.js';\nimport {\n  fetch,\n  isPolyfilled as fetchIsPolyfilled,\n  type RequestInfo,\n  type RequestInit,\n  type Response,\n  type HeadersInit,\n} from './_shims/fetch.js';\nexport { type Response };\nimport { isMultipartBody } from './uploads.js';\nexport {\n  maybeMultipartFormRequestOptions,\n  multipartFormRequestOptions,\n  createForm,\n  type Uploadable,\n} from './uploads.js';\n\nconst MAX_RETRIES = 2;\n\nexport type Fetch = (url: RequestInfo, init?: RequestInit) => Promise<Response>;\n\ntype PromiseOrValue<T> = T | Promise<T>;\n\ntype APIResponseProps = {\n  response: Response;\n  options: FinalRequestOptions;\n  controller: AbortController;\n};\n\nasync function defaultParseResponse<T>(props: APIResponseProps): Promise<T> {\n  const { response } = props;\n  if (props.options.stream) {\n    // Note: there is an invariant here that isn't represented in the type system\n    // that if you set `stream: true` the response type must also be `Stream<T>`\n    return new Stream(response, props.controller) as any;\n  }\n\n  const contentType = response.headers.get('content-type');\n  if (contentType?.includes('application/json')) {\n    const json = await response.json();\n\n    debug('response', response.status, response.url, response.headers, json);\n\n    return json as T;\n  }\n\n  // TODO handle blob, arraybuffer, other content types, etc.\n  const text = await response.text();\n  debug('response', response.status, response.url, response.headers, text);\n  return text as any as T;\n}\n\n/**\n * A subclass of `Promise` providing additional helper methods\n * for interacting with the SDK.\n */\nexport class APIPromise<T> extends Promise<T> {\n  private parsedPromise: Promise<T> | undefined;\n\n  constructor(\n    private responsePromise: Promise<APIResponseProps>,\n    private parseResponse: (props: APIResponseProps) => PromiseOrValue<T> = defaultParseResponse,\n  ) {\n    super((resolve) => {\n      // this is maybe a bit weird but this has to be a no-op to not implicitly\n      // parse the response body; instead .then, .catch, .finally are overridden\n      // to parse the response\n      resolve(null as any);\n    });\n  }\n\n  _thenUnwrap<U>(transform: (data: T) => U): APIPromise<U> {\n    return new APIPromise(this.responsePromise, async (props) => transform(await this.parseResponse(props)));\n  }\n\n  /**\n   * Gets the raw `Response` instance instead of parsing the response\n   * data.\n   *\n   * If you want to parse the response body but still get the `Response`\n   * instance, you can use {@link withResponse()}.\n   */\n  asResponse(): Promise<Response> {\n    return this.responsePromise.then((p) => p.response);\n  }\n  /**\n   * Gets the parsed response data and the raw `Response` instance.\n   *\n   * If you just want to get the raw `Response` instance without parsing it,\n   * you can use {@link asResponse()}.\n   */\n  async withResponse(): Promise<{ data: T; response: Response }> {\n    const [data, response] = await Promise.all([this.parse(), this.asResponse()]);\n    return { data, response };\n  }\n\n  private parse(): Promise<T> {\n    if (!this.parsedPromise) {\n      this.parsedPromise = this.responsePromise.then(this.parseResponse);\n    }\n    return this.parsedPromise;\n  }\n\n  override then<TResult1 = T, TResult2 = never>(\n    onfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null,\n    onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null,\n  ): Promise<TResult1 | TResult2> {\n    return this.parse().then(onfulfilled, onrejected);\n  }\n\n  override catch<TResult = never>(\n    onrejected?: ((reason: any) => TResult | PromiseLike<TResult>) | undefined | null,\n  ): Promise<T | TResult> {\n    return this.parse().catch(onrejected);\n  }\n\n  override finally(onfinally?: (() => void) | undefined | null): Promise<T> {\n    return this.parse().finally(onfinally);\n  }\n}\n\nexport abstract class APIClient {\n  baseURL: string;\n  maxRetries: number;\n  timeout: number;\n  httpAgent: Agent | undefined;\n\n  private fetch: Fetch;\n  protected idempotencyHeader?: string;\n\n  constructor({\n    baseURL,\n    maxRetries,\n    timeout = 600000, // 10 minutes\n    httpAgent,\n    fetch: overridenFetch,\n  }: {\n    baseURL: string;\n    maxRetries?: number | undefined;\n    timeout: number | undefined;\n    httpAgent: Agent | undefined;\n    fetch: Fetch | undefined;\n  }) {\n    this.baseURL = baseURL;\n    this.maxRetries = validatePositiveInteger('maxRetries', maxRetries ?? MAX_RETRIES);\n    this.timeout = validatePositiveInteger('timeout', timeout);\n    this.httpAgent = httpAgent;\n\n    this.fetch = overridenFetch ?? fetch;\n  }\n\n  protected authHeaders(opts: FinalRequestOptions): Headers {\n    return {};\n  }\n\n  /**\n   * Override this to add your own default headers, for example:\n   *\n   *  {\n   *    ...super.defaultHeaders(),\n   *    Authorization: 'Bearer 123',\n   *  }\n   */\n  protected defaultHeaders(opts: FinalRequestOptions): Headers {\n    return {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      'User-Agent': this.getUserAgent(),\n      ...getPlatformHeaders(),\n      ...this.authHeaders(opts),\n    };\n  }\n\n  protected abstract defaultQuery(): DefaultQuery | undefined;\n\n  /**\n   * Override this to add your own headers validation:\n   */\n  protected validateHeaders(headers: Headers, customHeaders: Headers) {}\n\n  protected defaultIdempotencyKey(): string {\n    return `stainless-node-retry-${uuid4()}`;\n  }\n\n  get<Req extends {}, Rsp>(path: string, opts?: PromiseOrValue<RequestOptions<Req>>): APIPromise<Rsp> {\n    return this.methodRequest('get', path, opts);\n  }\n\n  post<Req extends {}, Rsp>(path: string, opts?: PromiseOrValue<RequestOptions<Req>>): APIPromise<Rsp> {\n    return this.methodRequest('post', path, opts);\n  }\n\n  patch<Req extends {}, Rsp>(path: string, opts?: PromiseOrValue<RequestOptions<Req>>): APIPromise<Rsp> {\n    return this.methodRequest('patch', path, opts);\n  }\n\n  put<Req extends {}, Rsp>(path: string, opts?: PromiseOrValue<RequestOptions<Req>>): APIPromise<Rsp> {\n    return this.methodRequest('put', path, opts);\n  }\n\n  delete<Req extends {}, Rsp>(path: string, opts?: PromiseOrValue<RequestOptions<Req>>): APIPromise<Rsp> {\n    return this.methodRequest('delete', path, opts);\n  }\n\n  private methodRequest<Req extends {}, Rsp>(\n    method: HTTPMethod,\n    path: string,\n    opts?: PromiseOrValue<RequestOptions<Req>>,\n  ): APIPromise<Rsp> {\n    return this.request(Promise.resolve(opts).then((opts) => ({ method, path, ...opts })));\n  }\n\n  getAPIList<Item, PageClass extends AbstractPage<Item> = AbstractPage<Item>>(\n    path: string,\n    Page: new (...args: any[]) => PageClass,\n    opts?: RequestOptions<any>,\n  ): PagePromise<PageClass, Item> {\n    return this.requestAPIList(Page, { method: 'get', path, ...opts });\n  }\n\n  private calculateContentLength(body: unknown): string | null {\n    if (typeof body === 'string') {\n      if (typeof Buffer !== 'undefined') {\n        return Buffer.byteLength(body, 'utf8').toString();\n      }\n\n      if (typeof TextEncoder !== 'undefined') {\n        const encoder = new TextEncoder();\n        const encoded = encoder.encode(body);\n        return encoded.length.toString();\n      }\n    }\n\n    return null;\n  }\n\n  buildRequest<Req extends {}>(\n    options: FinalRequestOptions<Req>,\n  ): { req: RequestInit; url: string; timeout: number } {\n    const { method, path, query, headers: headers = {} } = options;\n\n    const body =\n      isMultipartBody(options.body) ? options.body.body\n      : options.body ? JSON.stringify(options.body, null, 2)\n      : null;\n    const contentLength = this.calculateContentLength(body);\n\n    const url = this.buildURL(path!, query);\n    if ('timeout' in options) validatePositiveInteger('timeout', options.timeout);\n    const timeout = options.timeout ?? this.timeout;\n    const httpAgent = options.httpAgent ?? this.httpAgent ?? getDefaultAgent(url);\n    const minAgentTimeout = timeout + 1000;\n    if (\n      typeof (httpAgent as any)?.options?.timeout === 'number' &&\n      minAgentTimeout > ((httpAgent as any).options.timeout ?? 0)\n    ) {\n      // Allow any given request to bump our agent active socket timeout.\n      // This may seem strange, but leaking active sockets should be rare and not particularly problematic,\n      // and without mutating agent we would need to create more of them.\n      // This tradeoff optimizes for performance.\n      (httpAgent as any).options.timeout = minAgentTimeout;\n    }\n\n    if (this.idempotencyHeader && method !== 'get') {\n      if (!options.idempotencyKey) options.idempotencyKey = this.defaultIdempotencyKey();\n      headers[this.idempotencyHeader] = options.idempotencyKey;\n    }\n\n    const reqHeaders: Record<string, string> = {\n      ...(contentLength && { 'Content-Length': contentLength }),\n      ...this.defaultHeaders(options),\n      ...headers,\n    };\n    // let builtin fetch set the Content-Type for multipart bodies\n    if (isMultipartBody(options.body) && !fetchIsPolyfilled) {\n      delete reqHeaders['Content-Type'];\n    }\n\n    // Strip any headers being explicitly omitted with null\n    Object.keys(reqHeaders).forEach((key) => reqHeaders[key] === null && delete reqHeaders[key]);\n\n    const req: RequestInit = {\n      method,\n      ...(body && { body: body as any }),\n      headers: reqHeaders,\n      ...(httpAgent && { agent: httpAgent }),\n      // @ts-ignore node-fetch uses a custom AbortSignal type that is\n      // not compatible with standard web types\n      signal: options.signal ?? null,\n    };\n\n    this.validateHeaders(reqHeaders, headers);\n\n    return { req, url, timeout };\n  }\n\n  /**\n   * Used as a callback for mutating the given `RequestInit` object.\n   *\n   * This is useful for cases where you want to add certain headers based off of\n   * the request properties, e.g. `method` or `url`.\n   */\n  protected async prepareRequest(\n    request: RequestInit,\n    { url, options }: { url: string; options: FinalRequestOptions },\n  ): Promise<void> {}\n\n  protected parseHeaders(headers: HeadersInit | null | undefined): Record<string, string> {\n    return (\n      !headers ? {}\n      : Symbol.iterator in headers ?\n        Object.fromEntries(Array.from(headers as Iterable<string[]>).map((header) => [...header]))\n      : { ...headers }\n    );\n  }\n\n  protected makeStatusError(\n    status: number | undefined,\n    error: Object | undefined,\n    message: string | undefined,\n    headers: Headers | undefined,\n  ) {\n    return APIError.generate(status, error, message, headers);\n  }\n\n  request<Req extends {}, Rsp>(\n    options: PromiseOrValue<FinalRequestOptions<Req>>,\n    remainingRetries: number | null = null,\n  ): APIPromise<Rsp> {\n    return new APIPromise(this.makeRequest(options, remainingRetries));\n  }\n\n  private async makeRequest(\n    optionsInput: PromiseOrValue<FinalRequestOptions>,\n    retriesRemaining: number | null,\n  ): Promise<APIResponseProps> {\n    const options = await optionsInput;\n    if (retriesRemaining == null) {\n      retriesRemaining = options.maxRetries ?? this.maxRetries;\n    }\n\n    const { req, url, timeout } = this.buildRequest(options);\n\n    await this.prepareRequest(req, { url, options });\n\n    debug('request', url, options, req.headers);\n\n    if (options.signal?.aborted) {\n      throw new APIUserAbortError();\n    }\n\n    const controller = new AbortController();\n    const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(castToError);\n\n    if (response instanceof Error) {\n      if (options.signal?.aborted) {\n        throw new APIUserAbortError();\n      }\n      if (retriesRemaining) {\n        return this.retryRequest(options, retriesRemaining);\n      }\n      if (response.name === 'AbortError') {\n        throw new APIConnectionTimeoutError();\n      }\n      throw new APIConnectionError({ cause: response });\n    }\n\n    const responseHeaders = createResponseHeaders(response.headers);\n\n    if (!response.ok) {\n      if (retriesRemaining && this.shouldRetry(response)) {\n        return this.retryRequest(options, retriesRemaining, responseHeaders);\n      }\n\n      const errText = await response.text().catch(() => 'Unknown');\n      const errJSON = safeJSON(errText);\n      const errMessage = errJSON ? undefined : errText;\n\n      debug('response', response.status, url, responseHeaders, errMessage);\n\n      const err = this.makeStatusError(response.status, errJSON, errMessage, responseHeaders);\n      throw err;\n    }\n\n    return { response, options, controller };\n  }\n\n  requestAPIList<Item = unknown, PageClass extends AbstractPage<Item> = AbstractPage<Item>>(\n    Page: new (...args: ConstructorParameters<typeof AbstractPage>) => PageClass,\n    options: FinalRequestOptions,\n  ): PagePromise<PageClass, Item> {\n    const request = this.makeRequest(options, null);\n    return new PagePromise<PageClass, Item>(this, request, Page);\n  }\n\n  buildURL<Req extends Record<string, unknown>>(path: string, query: Req | null | undefined): string {\n    const url =\n      isAbsoluteURL(path) ?\n        new URL(path)\n      : new URL(this.baseURL + (this.baseURL.endsWith('/') && path.startsWith('/') ? path.slice(1) : path));\n\n    const defaultQuery = this.defaultQuery();\n    if (!isEmptyObj(defaultQuery)) {\n      query = { ...defaultQuery, ...query } as Req;\n    }\n\n    if (query) {\n      url.search = this.stringifyQuery(query);\n    }\n\n    return url.toString();\n  }\n\n  protected stringifyQuery(query: Record<string, unknown>): string {\n    return Object.entries(query)\n      .filter(([_, value]) => typeof value !== 'undefined')\n      .map(([key, value]) => {\n        if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n          return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n        }\n        if (value === null) {\n          return `${encodeURIComponent(key)}=`;\n        }\n        throw new Error(\n          `Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`,\n        );\n      })\n      .join('&');\n  }\n\n  async fetchWithTimeout(\n    url: RequestInfo,\n    init: RequestInit | undefined,\n    ms: number,\n    controller: AbortController,\n  ): Promise<Response> {\n    const { signal, ...options } = init || {};\n    if (signal) signal.addEventListener('abort', () => controller.abort());\n\n    const timeout = setTimeout(() => controller.abort(), ms);\n\n    return this.getRequestClient()\n      .fetch(url, { signal: controller.signal as any, ...options })\n      .finally(() => {\n        clearTimeout(timeout);\n      });\n  }\n\n  protected getRequestClient(): RequestClient {\n    return { fetch: this.fetch };\n  }\n\n  private shouldRetry(response: Response): boolean {\n    // Note this is not a standard header.\n    const shouldRetryHeader = response.headers.get('x-should-retry');\n\n    // If the server explicitly says whether or not to retry, obey.\n    if (shouldRetryHeader === 'true') return true;\n    if (shouldRetryHeader === 'false') return false;\n\n    // Retry on request timeouts.\n    if (response.status === 408) return true;\n\n    // Retry on lock timeouts.\n    if (response.status === 409) return true;\n\n    // Retry on rate limits.\n    if (response.status === 429) return true;\n\n    // Retry internal errors.\n    if (response.status >= 500) return true;\n\n    return false;\n  }\n\n  private async retryRequest(\n    options: FinalRequestOptions,\n    retriesRemaining: number,\n    responseHeaders?: Headers | undefined,\n  ): Promise<APIResponseProps> {\n    retriesRemaining -= 1;\n\n    // About the Retry-After header: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After\n    //\n    // TODO: we may want to handle the case where the header is using the http-date syntax: \"Retry-After: <http-date>\".\n    // See https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After#syntax for details.\n    const retryAfter = parseInt(responseHeaders?.['retry-after'] || '');\n\n    const maxRetries = options.maxRetries ?? this.maxRetries;\n    const timeout = this.calculateRetryTimeoutSeconds(retriesRemaining, retryAfter, maxRetries) * 1000;\n    await sleep(timeout);\n\n    return this.makeRequest(options, retriesRemaining);\n  }\n\n  private calculateRetryTimeoutSeconds(\n    retriesRemaining: number,\n    retryAfter: number,\n    maxRetries: number,\n  ): number {\n    const initialRetryDelay = 0.5;\n    const maxRetryDelay = 2;\n\n    // If the API asks us to wait a certain amount of time (and it's a reasonable amount),\n    // just do what it says.\n    if (Number.isInteger(retryAfter) && retryAfter <= 60) {\n      return retryAfter;\n    }\n\n    const numRetries = maxRetries - retriesRemaining;\n\n    // Apply exponential backoff, but not more than the max.\n    const sleepSeconds = Math.min(initialRetryDelay * Math.pow(numRetries - 1, 2), maxRetryDelay);\n\n    // Apply some jitter, plus-or-minus half a second.\n    const jitter = Math.random() - 0.5;\n\n    return sleepSeconds + jitter;\n  }\n\n  private getUserAgent(): string {\n    return `${this.constructor.name}/JS ${VERSION}`;\n  }\n}\n\nexport class APIResource {\n  protected client: APIClient;\n  constructor(client: APIClient) {\n    this.client = client;\n\n    this.get = client.get.bind(client);\n    this.post = client.post.bind(client);\n    this.patch = client.patch.bind(client);\n    this.put = client.put.bind(client);\n    this.delete = client.delete.bind(client);\n    this.getAPIList = client.getAPIList.bind(client);\n  }\n\n  protected get: APIClient['get'];\n  protected post: APIClient['post'];\n  protected patch: APIClient['patch'];\n  protected put: APIClient['put'];\n  protected delete: APIClient['delete'];\n  protected getAPIList: APIClient['getAPIList'];\n}\n\nexport type PageInfo = { url: URL } | { params: Record<string, unknown> | null };\n\nexport abstract class AbstractPage<Item> implements AsyncIterable<Item> {\n  #client: APIClient;\n  protected options: FinalRequestOptions;\n\n  protected response: Response;\n  protected body: unknown;\n\n  constructor(client: APIClient, response: Response, body: unknown, options: FinalRequestOptions) {\n    this.#client = client;\n    this.options = options;\n    this.response = response;\n    this.body = body;\n  }\n\n  /**\n   * @deprecated Use nextPageInfo instead\n   */\n  abstract nextPageParams(): Partial<Record<string, unknown>> | null;\n  abstract nextPageInfo(): PageInfo | null;\n\n  abstract getPaginatedItems(): Item[];\n\n  hasNextPage(): boolean {\n    const items = this.getPaginatedItems();\n    if (!items.length) return false;\n    return this.nextPageInfo() != null;\n  }\n\n  async getNextPage(): Promise<this> {\n    const nextInfo = this.nextPageInfo();\n    if (!nextInfo) {\n      throw new Error(\n        'No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.',\n      );\n    }\n    const nextOptions = { ...this.options };\n    if ('params' in nextInfo) {\n      nextOptions.query = { ...nextOptions.query, ...nextInfo.params };\n    } else if ('url' in nextInfo) {\n      const params = [...Object.entries(nextOptions.query || {}), ...nextInfo.url.searchParams.entries()];\n      for (const [key, value] of params) {\n        nextInfo.url.searchParams.set(key, value);\n      }\n      nextOptions.query = undefined;\n      nextOptions.path = nextInfo.url.toString();\n    }\n    return await this.#client.requestAPIList(this.constructor as any, nextOptions);\n  }\n\n  async *iterPages() {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let page: AbstractPage<Item> = this;\n    yield page;\n    while (page.hasNextPage()) {\n      page = await page.getNextPage();\n      yield page;\n    }\n  }\n\n  async *[Symbol.asyncIterator]() {\n    for await (const page of this.iterPages()) {\n      for (const item of page.getPaginatedItems()) {\n        yield item;\n      }\n    }\n  }\n}\n\n/**\n * This subclass of Promise will resolve to an instantiated Page once the request completes.\n *\n * It also implements AsyncIterable to allow auto-paginating iteration on an unawaited list call, eg:\n *\n *    for await (const item of client.items.list()) {\n *      console.log(item)\n *    }\n */\nexport class PagePromise<\n    PageClass extends AbstractPage<Item>,\n    Item = ReturnType<PageClass['getPaginatedItems']>[number],\n  >\n  extends APIPromise<PageClass>\n  implements AsyncIterable<Item>\n{\n  constructor(\n    client: APIClient,\n    request: Promise<APIResponseProps>,\n    Page: new (...args: ConstructorParameters<typeof AbstractPage>) => PageClass,\n  ) {\n    super(\n      request,\n      async (props) => new Page(client, props.response, await defaultParseResponse(props), props.options),\n    );\n  }\n\n  /**\n   * Allow auto-paginating iteration on an unawaited list call, eg:\n   *\n   *    for await (const item of client.items.list()) {\n   *      console.log(item)\n   *    }\n   */\n  async *[Symbol.asyncIterator]() {\n    const page = await this;\n    for await (const item of page) {\n      yield item;\n    }\n  }\n}\n\nexport const createResponseHeaders = (\n  headers: Awaited<ReturnType<Fetch>>['headers'],\n): Record<string, string> => {\n  return new Proxy(\n    Object.fromEntries(\n      // @ts-ignore\n      headers.entries(),\n    ),\n    {\n      get(target, name) {\n        const key = name.toString();\n        return target[key.toLowerCase()] || target[key];\n      },\n    },\n  );\n};\n\ntype HTTPMethod = 'get' | 'post' | 'put' | 'patch' | 'delete';\n\nexport type RequestClient = { fetch: Fetch };\nexport type Headers = Record<string, string | null | undefined>;\nexport type DefaultQuery = Record<string, string | undefined>;\nexport type KeysEnum<T> = { [P in keyof Required<T>]: true };\n\nexport type RequestOptions<Req extends {} = Record<string, unknown> | Readable> = {\n  method?: HTTPMethod;\n  path?: string;\n  query?: Req | undefined;\n  body?: Req | undefined;\n  headers?: Headers | undefined;\n\n  maxRetries?: number;\n  stream?: boolean | undefined;\n  timeout?: number;\n  httpAgent?: Agent;\n  signal?: AbortSignal | undefined | null;\n  idempotencyKey?: string;\n};\n\n// This is required so that we can determine if a given object matches the RequestOptions\n// type at runtime. While this requires duplication, it is enforced by the TypeScript\n// compiler such that any missing / extraneous keys will cause an error.\nconst requestOptionsKeys: KeysEnum<RequestOptions> = {\n  method: true,\n  path: true,\n  query: true,\n  body: true,\n  headers: true,\n\n  maxRetries: true,\n  stream: true,\n  timeout: true,\n  httpAgent: true,\n  signal: true,\n  idempotencyKey: true,\n};\n\nexport const isRequestOptions = (obj: unknown): obj is RequestOptions => {\n  return (\n    typeof obj === 'object' &&\n    obj !== null &&\n    !isEmptyObj(obj) &&\n    Object.keys(obj).every((k) => hasOwn(requestOptionsKeys, k))\n  );\n};\n\nexport type FinalRequestOptions<Req extends {} = Record<string, unknown> | Readable> = RequestOptions<Req> & {\n  method: HTTPMethod;\n  path: string;\n};\n\ndeclare const Deno: any;\ndeclare const EdgeRuntime: any;\ntype Arch = 'x32' | 'x64' | 'arm' | 'arm64' | `other:${string}` | 'unknown';\ntype PlatformName =\n  | 'MacOS'\n  | 'Linux'\n  | 'Windows'\n  | 'FreeBSD'\n  | 'OpenBSD'\n  | 'iOS'\n  | 'Android'\n  | `Other:${string}`\n  | 'Unknown';\ntype Browser = 'ie' | 'edge' | 'chrome' | 'firefox' | 'safari';\ntype PlatformProperties = {\n  'X-Stainless-Lang': 'js';\n  'X-Stainless-Package-Version': string;\n  'X-Stainless-OS': PlatformName;\n  'X-Stainless-Arch': Arch;\n  'X-Stainless-Runtime': 'node' | 'deno' | 'edge' | `browser:${Browser}` | 'unknown';\n  'X-Stainless-Runtime-Version': string;\n};\nconst getPlatformProperties = (): PlatformProperties => {\n  if (typeof Deno !== 'undefined' && Deno.build != null) {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': VERSION,\n      'X-Stainless-OS': normalizePlatform(Deno.build.os),\n      'X-Stainless-Arch': normalizeArch(Deno.build.arch),\n      'X-Stainless-Runtime': 'deno',\n      'X-Stainless-Runtime-Version': Deno.version,\n    };\n  }\n  if (typeof EdgeRuntime !== 'undefined') {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': VERSION,\n      'X-Stainless-OS': 'Unknown',\n      'X-Stainless-Arch': `other:${EdgeRuntime}`,\n      'X-Stainless-Runtime': 'edge',\n      'X-Stainless-Runtime-Version': process.version,\n    };\n  }\n  // Check if Node.js\n  if (Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]') {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': VERSION,\n      'X-Stainless-OS': normalizePlatform(process.platform),\n      'X-Stainless-Arch': normalizeArch(process.arch),\n      'X-Stainless-Runtime': 'node',\n      'X-Stainless-Runtime-Version': process.version,\n    };\n  }\n\n  const browserInfo = getBrowserInfo();\n  if (browserInfo) {\n    return {\n      'X-Stainless-Lang': 'js',\n      'X-Stainless-Package-Version': VERSION,\n      'X-Stainless-OS': 'Unknown',\n      'X-Stainless-Arch': 'unknown',\n      'X-Stainless-Runtime': `browser:${browserInfo.browser}`,\n      'X-Stainless-Runtime-Version': browserInfo.version,\n    };\n  }\n\n  // TODO add support for Cloudflare workers, etc.\n  return {\n    'X-Stainless-Lang': 'js',\n    'X-Stainless-Package-Version': VERSION,\n    'X-Stainless-OS': 'Unknown',\n    'X-Stainless-Arch': 'unknown',\n    'X-Stainless-Runtime': 'unknown',\n    'X-Stainless-Runtime-Version': 'unknown',\n  };\n};\n\ntype BrowserInfo = {\n  browser: Browser;\n  version: string;\n};\n\ndeclare const navigator: { userAgent: string } | undefined;\n\n// Note: modified from https://github.com/JS-DevTools/host-environment/blob/b1ab79ecde37db5d6e163c050e54fe7d287d7c92/src/isomorphic.browser.ts\nfunction getBrowserInfo(): BrowserInfo | null {\n  if (typeof navigator === 'undefined' || !navigator) {\n    return null;\n  }\n\n  // NOTE: The order matters here!\n  const browserPatterns = [\n    { key: 'edge' as const, pattern: /Edge(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n    { key: 'ie' as const, pattern: /MSIE(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n    { key: 'ie' as const, pattern: /Trident(?:.*rv\\:(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n    { key: 'chrome' as const, pattern: /Chrome(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n    { key: 'firefox' as const, pattern: /Firefox(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n    { key: 'safari' as const, pattern: /(?:Version\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?(?:\\W+Mobile\\S*)?\\W+Safari/ },\n  ];\n\n  // Find the FIRST matching browser\n  for (const { key, pattern } of browserPatterns) {\n    const match = pattern.exec(navigator.userAgent);\n    if (match) {\n      const major = match[1] || 0;\n      const minor = match[2] || 0;\n      const patch = match[3] || 0;\n\n      return { browser: key, version: `${major}.${minor}.${patch}` };\n    }\n  }\n\n  return null;\n}\n\nconst normalizeArch = (arch: string): Arch => {\n  // Node docs:\n  // - https://nodejs.org/api/process.html#processarch\n  // Deno docs:\n  // - https://doc.deno.land/deno/stable/~/Deno.build\n  if (arch === 'x32') return 'x32';\n  if (arch === 'x86_64' || arch === 'x64') return 'x64';\n  if (arch === 'arm') return 'arm';\n  if (arch === 'aarch64' || arch === 'arm64') return 'arm64';\n  if (arch) return `other:${arch}`;\n  return 'unknown';\n};\n\nconst normalizePlatform = (platform: string): PlatformName => {\n  // Node platforms:\n  // - https://nodejs.org/api/process.html#processplatform\n  // Deno platforms:\n  // - https://doc.deno.land/deno/stable/~/Deno.build\n  // - https://github.com/denoland/deno/issues/14799\n\n  platform = platform.toLowerCase();\n\n  // NOTE: this iOS check is untested and may not work\n  // Node does not work natively on IOS, there is a fork at\n  // https://github.com/nodejs-mobile/nodejs-mobile\n  // however it is unknown at the time of writing how to detect if it is running\n  if (platform.includes('ios')) return 'iOS';\n  if (platform === 'android') return 'Android';\n  if (platform === 'darwin') return 'MacOS';\n  if (platform === 'win32') return 'Windows';\n  if (platform === 'freebsd') return 'FreeBSD';\n  if (platform === 'openbsd') return 'OpenBSD';\n  if (platform === 'linux') return 'Linux';\n  if (platform) return `Other:${platform}`;\n  return 'Unknown';\n};\n\nlet _platformHeaders: PlatformProperties;\nconst getPlatformHeaders = () => {\n  return (_platformHeaders ??= getPlatformProperties());\n};\n\nexport const safeJSON = (text: string) => {\n  try {\n    return JSON.parse(text);\n  } catch (err) {\n    return undefined;\n  }\n};\n\n// https://stackoverflow.com/a/19709846\nconst startsWithSchemeRegexp = new RegExp('^(?:[a-z]+:)?//', 'i');\nconst isAbsoluteURL = (url: string): boolean => {\n  return startsWithSchemeRegexp.test(url);\n};\n\nexport const sleep = (ms: number) => new Promise((resolve) => setTimeout(resolve, ms));\n\nconst validatePositiveInteger = (name: string, n: unknown): number => {\n  if (typeof n !== 'number' || !Number.isInteger(n)) {\n    throw new Error(`${name} must be an integer`);\n  }\n  if (n < 0) {\n    throw new Error(`${name} must be a positive integer`);\n  }\n  return n;\n};\n\nexport const castToError = (err: any): Error => {\n  if (err instanceof Error) return err;\n  return new Error(err);\n};\n\nexport const ensurePresent = <T>(value: T | null | undefined): T => {\n  if (value == null) throw new Error(`Expected a value to be given but received ${value} instead.`);\n  return value;\n};\n\n/**\n * Read an environment variable.\n *\n * Will return undefined if the environment variable doesn't exist or cannot be accessed.\n */\nexport const readEnv = (env: string): string | undefined => {\n  if (typeof process !== 'undefined') {\n    return process.env?.[env] ?? undefined;\n  }\n  if (typeof Deno !== 'undefined') {\n    return Deno.env?.get?.(env);\n  }\n  return undefined;\n};\n\nexport const coerceInteger = (value: unknown): number => {\n  if (typeof value === 'number') return Math.round(value);\n  if (typeof value === 'string') return parseInt(value, 10);\n\n  throw new Error(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\n\nexport const coerceFloat = (value: unknown): number => {\n  if (typeof value === 'number') return value;\n  if (typeof value === 'string') return parseFloat(value);\n\n  throw new Error(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\n\nexport const coerceBoolean = (value: unknown): boolean => {\n  if (typeof value === 'boolean') return value;\n  if (typeof value === 'string') return value === 'true';\n  return Boolean(value);\n};\n\nexport const maybeCoerceInteger = (value: unknown): number | undefined => {\n  if (value === undefined) {\n    return undefined;\n  }\n  return coerceInteger(value);\n};\n\nexport const maybeCoerceFloat = (value: unknown): number | undefined => {\n  if (value === undefined) {\n    return undefined;\n  }\n  return coerceFloat(value);\n};\n\nexport const maybeCoerceBoolean = (value: unknown): boolean | undefined => {\n  if (value === undefined) {\n    return undefined;\n  }\n  return coerceBoolean(value);\n};\n\n// https://stackoverflow.com/a/34491287\nexport function isEmptyObj(obj: Object | null | undefined): boolean {\n  if (!obj) return true;\n  for (const _k in obj) return false;\n  return true;\n}\n\n// https://eslint.org/docs/latest/rules/no-prototype-builtins\nexport function hasOwn(obj: Object, key: string): boolean {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nexport function debug(action: string, ...args: any[]) {\n  if (typeof process !== 'undefined' && process.env['DEBUG'] === 'true') {\n    console.log(`OpenAI:DEBUG:${action}`, ...args);\n  }\n}\n\n/**\n * https://stackoverflow.com/a/2117523\n */\nconst uuid4 = () => {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (Math.random() * 16) | 0;\n    const v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n};\n\nexport const isRunningInBrowser = () => {\n  return (\n    // @ts-ignore\n    typeof window !== 'undefined' &&\n    // @ts-ignore\n    typeof window.document !== 'undefined' &&\n    // @ts-ignore\n    typeof navigator !== 'undefined'\n  );\n};\n\nexport interface HeadersProtocol {\n  get: (header: string) => string | null | undefined;\n}\nexport type HeadersLike = Record<string, string | string[] | undefined> | HeadersProtocol;\n\nexport const isHeadersProtocol = (headers: any): headers is HeadersProtocol => {\n  return typeof headers?.get === 'function';\n};\n\nexport const getHeader = (headers: HeadersLike, key: string): string | null | undefined => {\n  const lowerKey = key.toLowerCase();\n  if (isHeadersProtocol(headers)) return headers.get(key) || headers.get(lowerKey);\n  const value = headers[key] || headers[lowerKey];\n  if (Array.isArray(value)) {\n    if (value.length <= 1) return value[0];\n    console.warn(`Received ${value.length} entries for the ${key} header, using the first entry.`);\n    return value[0];\n  }\n  return value;\n};\n\n/**\n * Encodes a string to Base64 format.\n */\nexport const toBase64 = (str: string | null | undefined): string => {\n  if (!str) return '';\n  if (typeof Buffer !== 'undefined') {\n    return Buffer.from(str).toString('base64');\n  }\n\n  if (typeof btoa !== 'undefined') {\n    return btoa(str);\n  }\n\n  throw new Error('Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined');\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}